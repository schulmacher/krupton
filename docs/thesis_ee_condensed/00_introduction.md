# Sissejuhatus

Krüptovaluutade turg on kasvanud viimastel aastatel globaalseks finantsnähtuseks, mille koguväärtus ületab 2 triljonit dollarit. Bitcoin ja Ethereum kui juhtivad krüptovaluutad kauplevad päevaselt kümnete miljardite dollarite väärtuses, pakkudes investoritele ja kauplejatele 24/7 likviidseid turge. Selle turu kõrge volatiilsus ja kättesaadavus on teinud algoritmilise kauplemise populaarseks nii institutsionaalsete investorite kui ka üksikisikute hulgas. Masinõppel põhinevad ennustussüsteemid võivad pakkuda olulist konkurentsieelist turgudel, kus millisekundi täpsusega reaalajas otsused määravad kasumlikkuse.

Reaalajas krüptovaluutade hinnamuutuste ennustamine seisab silmitsi mitme tehnilise väljakutsega: börside API-d pakuvad andmeid erinevates formaatides, nõudes platvormispetsiifilist integratsiooniloogikat; kõrge sündmuste sagedus (kümneid tuhandeid tehinguid sekundis) nõuab madalat latentsust andmetöötluses; masinõppe mudelite arendamine nõuab deterministlikku keskkonda, kus eksperimendid on reprodutseeritavad. Traditsioonilised lahendused nagu Apache Kafka toovad kaasa operatsioonilise keerukuse ja latentsuse üle 25 ms. Alternatiivid nagu otsene IPC pakuvad madalat latentsust, kuid nõuavad kohandatud lahendusi püsisalvestamiseks.

Kõrgsageduslik algoritmilise kauplemise infrastruktuur on traditsiooniliselt olnud institutsionaalse finantsmaailma domeen (Jane Street, Citadel Securities, Jump Trading), kuid need süsteemid on suletud lähtekoodiga ärisaladused. Avatud lähtekoodiga alternatiivid nagu CCXT pakuvad liidest börside API-dele, kuid ei lahenda reaalajas andmevoogedastuse, salvestuse ega ennustuskonveieri probleeme. Apache Kafka kombineerituna Flink või Spark Streaming'iga on tüüpiline lahendus, kuid toob kaasa klastri halduse keerukuse ja kõrge latentsuse (25+ ms). Masinõppe valdkonnas on levinud LSTM ja Transformer mudelid, mis nõuavad märkimisväärset arvutusvõimsust. Lihtsamad otsustuspuud pakuvad kiiremat järeldamist, kuid kannatavad ülesobitamise all. Tunnuste valiku meetodid nagu RFE või L1-regulatsioon on levinud, kuid eksponentsiaalne otsinguruumi kasv nõuab pragmaatilisi heuristikat.

Käesoleva bakalaureusetöö eesmärk on kavandada, implementeerida ja valideerida terviklik krüptovaluutade reaalajas turuandmete töötlemise ja masinõppel põhineva ennustamise süsteem. Töö keskendub kolmele põhiprobleemile: madala latentsusega andmetöötluse arhitektuuri loomine, efektiivse tunnuste genereerimise konveieri arendamine ning masinõppe töövoo disain ahne iteratiivse tunnuste valikuga. Teema valiku motiveerib asjaolu, et kuigi üksikud komponendid on iseseisvalt uuritud, puudub terviklik käsitlus nende integreerimisest tootmiskõlblikus arhitektuuris. Süsteem on implementeeritud avatud lähtekoodiga tööriistadega ja on reprodutseeritav.

Töö eesmärgi saavutamiseks püstitatakse järgmised ülesanded: (1) teenusepõhise arhitektuuri implementeerimine polüglotse monorepona (TypeScript, Python, Rust); (2) alternatiivsete andmevahenduse tehnoloogiate võrdlus (Apache Kafka vs RocksDB+ZeroMQ); (3) paralleelse tunnuste genereerimise konveieri arendamine; (4) ahne iteratiivse tunnuste valiku algoritmi implementeerimine; (5) reaalajas ennustussüsteemi realiseerimine ansamblipõhise järeldamisega; (6) süsteemi valideerimine ajaloolistel andmetel.

Töö rakendab teenusepõhist arhitektuuri (SOA) protsessipõhise eralduse ja pub/sub sõnumivahenduse mustrile, kasutades RocksDB primary/secondary mustrit püsisalvestamiseks, kaherežiimilist tarbimist (catch-up + reaalaja) ning kontrollpunktidel põhinevat taastumist. Andmetöötluses kasutatakse massiivide-struktuuride paigutust, lukuvaba rõngaspuhvreid, Welfordi algoritmi ja k-nihke liitmisi. Masinõppe töövoog hõlmab ahnet iteratiivset tunnuste valikut, z-skoori normaliseerimist, Fibonacci-põhiseid momentumitunnuseid ning ansamblipõhist järeldamist MoE sarnase arhitektuuriga. Implementatsioonis kasutatakse TypeScripti (Fastify, Undici, ws, zeromq, TypeBox), Pythonit (NumPy, Polars, scikit-learn, Pydantic) ja Rusti (NAPI-RS, PyO3, RocksDB). Andmete salvestamiseks kasutatakse RocksDB-d, PostgreSQL-i ja Parquet formaati. Jälgitavus on realiseeritud VictoriaMetrics ja Perses kombinatsiooniga.

Bakalaureusetöö koosneb sissejuhatusest, kuuest põhipeatükist ja kokkuvõttest. Esimene peatükk esitab süsteemi arhitektuuri ülevaate ja infrastruktuurilised valikud, võrreldes RocksDB+ZeroMQ ja Apache Kafka lahendusi. Teine peatükk kirjeldab andmekogumise kihti (external-bridge), mis integreerub Binance'i ja Kraken'i börsidega REST ja WebSocket protokollide kaudu. Kolmas peatükk käsitleb andmete teisendamise kihti (internal-bridge), mis normaliseerib platvormispetsiifilised andmevood ühtseteks skeemideks. Neljas peatükk demonstreerib paralleelset tunnuste genereerimist aknastatud agregatsiooni ja kohandatud lukuvabade rõngaspuhvrite abil. Viies peatükk esitab masinõppe töövoo ahne iteratiivse tunnuste valikuga ja klassispetsiifiliste hindamismõõdikutega. Kuues peatükk tutvustab reaalajas ennustussüsteemi ansamblipõhise järeldamisega ja lävipõhise suunalise sünteesiga.

Töö aktuaalsus tuleneb krüptovaluutade turgude institutsionaliseerumisest, avatud lähtekoodiga alternatiivide puudumisest kõrgsagedusliku kauplemise valdkonnas ning masinõppe tootmissüsteemide arhitektuuriliste väljakutste käsitlemise vajadusest akadeemilises kirjanduses. Praktiline väärtus seisneb tervikliku, reprodutseeritava süsteemi demonstreerimises, mida saab kohandada teistele finantsturgudele või kasutada õppematerjalina. Töö ei hõlma tegeliku kauplemissüsteemi integreerimist ega reaalajas testimist. Mudelid on treenitud ühe sümboli (ETH_USDT) ja ühe börsi (Kraken) piiratud andmetel, mistõttu tulemuste üldistamine nõuab täiendavat valideerimist. Süsteem on optimeeritud ühe masina kontekstis.

---

**Võtmesõnad:** krüptovaluutad, reaalajas andmetöötlus, masinõpe, teenusepõhine arhitektuur, bakalaureusetöö

