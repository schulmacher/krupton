# Prometheus scrape configuration for VictoriaMetrics
# VictoriaMetrics supports Prometheus scrape config format

global:
  scrape_interval: 15s
  scrape_timeout: 10s

scrape_configs:
  - job_name: 'external-bridge-binance-fetcher'
    static_configs:
      - targets: ['localhost:3000']
        labels:
          namespace: 'external-bridge'
          service: 'fetcher'
          component: 'binance'
          environment: 'development'

  - job_name: 'external-bridge-kraken-fetcher'
    static_configs:
      - targets: ['localhost:3001']
        labels:
          namespace: 'external-bridge'
          service: 'fetcher'
          component: 'kraken'
          environment: 'development'

  - job_name: 'external-bridge-storage'
    static_configs:
      - targets: ['localhost:3200']
        labels:
          namespace: 'external-bridge'
          service: 'storage'
          component: ''
          environment: 'development'

  - job_name: 'external-bridge-websockets-binance'
    static_configs:
      - targets: ['localhost:3100']
        labels:
          namespace: 'external-bridge'
          service: 'websocket'
          component: 'binance'
          environment: 'development'

  - job_name: 'external-bridge-websockets-kraken'
    static_configs:
      - targets: ['localhost:3101']
        labels:
          namespace: 'external-bridge'
          service: 'websocket'
          component: 'kraken'
          environment: 'development'

  - job_name: 'victoriametrics'
    static_configs:
      - targets: ['localhost:8428']
        labels:
          service: 'victoriametrics'
          environment: 'development'
