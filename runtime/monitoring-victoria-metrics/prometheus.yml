# Prometheus scrape configuration for VictoriaMetrics
# VictoriaMetrics supports Prometheus scrape config format

global:
  scrape_interval: 15s
  scrape_timeout: 10s

scrape_configs:
  - job_name: 'external-bridge-binance-fetcher'
    static_configs:
      - targets: ['localhost:3000']
        labels:
          namespace: 'external-bridge'
          service: 'fetcher'
          component: 'binance'
          environment: 'development'

  - job_name: 'external-bridge-kraken-fetcher'
    static_configs:
      - targets: ['localhost:3001']
        labels:
          namespace: 'external-bridge'
          service: 'fetcher'
          component: 'kraken'
          environment: 'development'

  # - job_name: 'external-bridge-storage'
  #   static_configs:
  #     - targets: ['localhost:3200']
  #       labels:
  #         namespace: 'external-bridge'
  #         service: 'storage'
  #         component: ''
  #         environment: 'development'

  - job_name: 'external-bridge-websockets-binance'
    static_configs:
      - targets: ['localhost:3100']
        labels:
          namespace: 'external-bridge'
          service: 'websocket'
          component: 'binance'
          environment: 'development'

  - job_name: 'external-bridge-websockets-kraken'
    static_configs:
      - targets: ['localhost:3101']
        labels:
          namespace: 'external-bridge'
          service: 'websocket'
          component: 'kraken'
          environment: 'development'

  - job_name: 'internal-bridge-transformer-binance-orders'
    static_configs:
      - targets: ['localhost:3300']
        labels:
          namespace: 'internal-bridge'
          service: 'transformer'
          component: 'binance-orders'
          environment: 'development'

  - job_name: 'internal-bridge-transformer-kraken-orders'
    static_configs:
      - targets: ['localhost:3310']
        labels:
          namespace: 'internal-bridge'
          service: 'transformer'
          component: 'kraken-orders'
          environment: 'development'

  - job_name: 'internal-bridge-transformer-binance-trades'
    static_configs:
      - targets: ['localhost:3301']
        labels:
          namespace: 'internal-bridge'
          service: 'transformer'
          component: 'binance-trades'
          environment: 'development'

  - job_name: 'internal-bridge-transformer-kraken-trades'
    static_configs:
      - targets: ['localhost:3311']
        labels:
          namespace: 'internal-bridge'
          service: 'transformer'
          component: 'kraken-trades'
          environment: 'development'

  - job_name: 'victoriametrics'
    static_configs:
      - targets: ['localhost:8428']
        labels:
          service: 'victoriametrics'
          environment: 'development'
